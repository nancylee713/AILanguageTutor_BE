language: python
python:
- '3.7'
install:
- pip install -r requirements.txt
services:
- postgresql
before_script:
- psql -c 'create database travis_ci_test;' -U postgres
- export APP_SETTINGS="config.StagingConfig"
script:
- python3 manage.py test
deploy:
  provider: heroku
  api_key:
    secure: fz7fyOk835rdxj6jnkW8J34fXDxaNtzdoLVu00ySWFcn3yjYbMRmh2t+mrdW6avlAMXyO9ve2/CMg8am687joorzu1ahkftYTXM9QP+4MvEyDT3vhZ+9Mxi1NOp3qlsa7KnyKttbX5V04cBv86AiMVBCdRMFZv8Nz1A/fHEHuVc8/VQuZiGg+h0v1prpXt13JyWOuSVJsMBo1HBXTpp/KZm8AOEcsMVjZcNG+05UdbGO5nUKe8XloMm9G2pLnZ3oFAre7JLOL8hgoAfBx5EBmdAWQw8rjW8nQiiL/u4xaHIXrXr/xj/qSkNjmBbh6pWhQXuDqde7dDAmUeQPoSQqc3e42lSGPfAbokERmz1wlMvibQPKGT7jHI6dqprS6fycbxuUjkXmqdY7wddtch6C4AXjD/fy7xt8J5fSHcwlycryICNIghrYRVOL1CER9cbe247YYEjTY8Fgapy/dTZgaSt6mnMjLcg8NJSNoOzB60e1gsVuLuvvls2SfQYv2pxtu4lyoAE79kNut1GXE/2FBqq6XfyTbRdSsRCu6y7VtW8yZXB0sUyCX5amgOW7KbVJABZzMjqx7nFNqYjNBABup/0XjMshYsoNpEi+vmgZE3HVZzOByzrkx+BBEl8B2F7900x7b7imS6OPo+VldosEyIo3Tvi3GRzAUNA8EujULL4=
  app: language-learner-be
  on:
    repo: nancylee713/AILanguageTutor_BE
    branch: staging
